

char map_tcl_proc[]=
"#!/usr/bin/wish -f\n"
"\n"
"\n"
"\n"
"proc map_init {path} {\n"
"\n"
"   global map_path\n"
"   global mapfile\n"
"   global runnumber\n"
"   global s1sl1 s1sl2 s1sl3 s1sl4 s1sl5 s1sl6\n"
"   global s2sl1 s2sl2 s2sl3 s2sl4 s2sl5 s2sl6\n"
"   global s3sl1 s3sl2 s3sl3 s3sl4 s3sl5 s3sl6\n"
"   global s4sl1 s4sl2 s4sl3 s4sl4 s4sl5 s4sl6\n"
"   global s5sl1 s5sl2 s5sl3 s5sl4 s5sl5 s5sl6\n"
"   global s6sl1 s6sl2 s6sl3 s6sl4 s6sl5 s6sl6\n"
"\n"
"   set map_path $path\n"
"   \n"
"   ######## checkbuttons #######\n"
"   set win $map_path.buttons\n"
"   frame $win -relief groove -borderwidth 3\n"
"   pack $win -side top -fill both\n"
"   button $win.all -text \"Select All\" -command {MapAllOn}\n"
"   pack $win.all -side top\n"
"   set win $map_path.buttons.bw\n"
"   frame $win\n"
"   pack $win -side top -fill both\n"
"   for {set sec 1} {[expr $sec<=6]} {incr sec} {\n"
"      set fname [format \"s%d\" $sec]\n"
"      frame $win.$fname\n"
"      for {set sup 1} {[expr $sup<=6]} {incr sup} {\n"
"         set name [format  \"s%dsl%d\" $sec $sup]\n"
"         set $name 0\n"
"         checkbutton $win.$fname.$name -text $name -variable $name\n"
"         pack $win.$fname.$name -side top -fill both\n"
"      }\n"
"      pack $win.$fname -side left -fill both\n"
"   }\n"
"   \n"
"   ######## Write buttons ######\n"
"   set win $map_path.controls\n"
"   frame $win\n"
"   pack $win -side bottom -fill both -pady 10\n"
"   button $win.create -text \"Create MapFile\" -command {CreateMapFile}\n"
"   pack $win.create -side left\n"
"   button $win.map  -text \"Write to Map\" -command {MapWrite}\n"
"   pack $win.map -side right\n"
"\n"
"   ######### Mapfile ###########\n"
"   set win $map_path.lab\n"
"   frame $win\n"
"   pack $win -side bottom -fill x -ipady 10\n"
"   button $win.lab -text \"MapFile:\" -command {NewMapFile}\n"
"   label $win.mapfile -textvariable mapfile\n"
"   pack $win.lab $win.mapfile -side left -fill x\n"
"\n"
"   ######### RunNumber ###########\n"
"   set win $map_path.run\n"
"   frame $win\n"
"   pack $win -side bottom -fill x -ipady 10\n"
"   label $win.lab -text \"Run Number:\"\n"
"   label $win.run -textvariable runnumber\n"
"   pack $win.lab $win.run -side left -fill x\n"
"\n"
"}\n"
"\n"
"proc NewMapFile {} {\n"
"\n"
"   global mapfile\n"
"\n"
"   set types {\n"
"      {{Map files} {.map} }\n"
"      {{All files} *      }\n"
"   }\n"
"   \n"
"   set fname [tk_getOpenFile -filetypes $types -title \"Select new DC_DOCA.map file\"]\n"
"   \n"
"   if {$fname!=\"\"} {\n"
"      set mapfile $fname\n"
"   }\n"
"}\n"
"\n"
"\n"
"proc MapAllOn {} {\n"
"\n"
"   global s1sl1 s1sl2 s1sl3 s1sl4 s1sl5 s1sl6\n"
"   global s2sl1 s2sl2 s2sl3 s2sl4 s2sl5 s2sl6\n"
"   global s3sl1 s3sl2 s3sl3 s3sl4 s3sl5 s3sl6\n"
"   global s4sl1 s4sl2 s4sl3 s4sl4 s4sl5 s4sl6\n"
"   global s5sl1 s5sl2 s5sl3 s5sl4 s5sl5 s5sl6\n"
"   global s6sl1 s6sl2 s6sl3 s6sl4 s6sl5 s6sl6\n"
"\n"
"   for {set sec 1} {[expr $sec<=6]} {incr sec} {\n"
"      for {set sup 1} {[expr $sup<=6]} {incr sup} {\n"
"         set name [format  \"s%dsl%d\" $sec $sup]\n"
"         set $name 1\n"
"      }\n"
"   }\n"
"}\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"

;


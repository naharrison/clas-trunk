

char main_tcl_proc[]=
"#!/usr/bin/wish -f\n"
"\n"
"\n"
"global notebook_page\n"
"global sec sup\n"
"global filename\n"
"global expert\n"
"\n"
"\n"
"set tlim(0) 1800\n"
"set tlim(1) 220\n"
"set tlim(2) 220\n"
"set tlim(3) 700\n"
"set tlim(4) 800\n"
"set tlim(5) 1300\n"
"set tlim(6) 1500\n"
"set tlim_low -20\n"
"\n"
"set tlimt(0) [expr $tlim(0)*1.4]\n"
"set tlimt(1) [expr $tlim(1)*1.4]\n"
"set tlimt(2) [expr $tlim(2)*1.4]\n"
"set tlimt(3) [expr $tlim(3)*1.4]\n"
"set tlimt(4) [expr $tlim(4)*1.4]\n"
"set tlimt(5) [expr $tlim(5)*1.4]\n"
"set tlimt(6) [expr $tlim(6)*1.4]\n"
"\n"
"set smallfont  \"-adobe-times-*-r-*-*-12-*-*-*-*-*-*-*\"\n"
"set mediumfont \"-adobe-times-*-r-*-*-14-*-*-*-*-*-*-*\"\n"
"set largefont  \"-adobe-times-*-r-*-*-16-*-*-*-*-*-*-*\"\n"
"set hugefont   \"-adobe-times-*-r-*-*-18-*-*-*-*-*-*-*\"\n"
"\n"
"\n"
"proc MainProc {} {\n"
"\n"
"   global sec sup\n"
"   global filename\n"
"   global expert\n"
"\n"
"   set sec 1\n"
"   set sup 1\n"
"\n"
"   ############################################################\n"
"   #  This creates the main window and the menu bar.          #\n"
"   ############################################################\n"
"\n"
"   ########## Create frames  ###############\n"
"   frame .top\n"
"   frame .middle\n"
"   frame .bottom\n"
"\n"
"   ########## Create Menu Buttons #############################\n"
"   button .top.file -text \"Open File\" -command {OpenFile}\n"
"   button .top.go -text \"Go\" -command {go}\n"
"   canvas .top.progress -width 250 -height 20 \n"
"   button .top.help -text \"Help\" -state disabled\n"
"   button .top.quit -text \"Quit\" -command {destroy .}\n"
"   pack .top.file .top.go .top.progress -side left\n"
"   pack .top.quit .top.help -side right\n"
"   pack .top -side top -fill both\n"
"   \n"
"   ######### Make file label ###############################\n"
"   frame .curfile\n"
"   label .curfile.lab -text \"Current File: \"\n"
"   set filename \"none\"\n"
"   label .curfile.nam -textvariable filename\n"
"   pack .curfile.lab .curfile.nam -side left -anchor w\n"
"   pack .curfile -side top -fill x\n"
"\n"
"   ############# Create notebook widget #################\n"
"   set item1 \"T0\"\n"
"   set item2 \"Tmax\"\n"
"   set item3 \"Fit\"\n"
"   set item4 \"Calib. Quality\"\n"
"   set item5 \"CalDB\"\n"
"   set item6 \"Map\"\n"
"   #set item1 \"Calib. Quality\"\n"
"   #set item2 \"T0\"\n"
"   #set item3 \"Tmax\"\n"
"   #set item4 \"Fit\"\n"
"   #set item5 \"CalDB\"\n"
"   #set item6 \"Map\"\n"
"   #Notebook:create .middle.n -pages [list $item1 $item2 $item3 $item4 $item5 $item6] -pad 20 \n"
"   Notebook:create .middle.n -pages [list $item4 $item1 $item2 $item3 $item5] -pad 20 \n"
"   pack .middle.n -side right -fill both -expand 1\n"
"   calibration_quality [Notebook:frame .middle.n $item4]   \n"
"   find_tzero [Notebook:frame .middle.n $item1]\n"
"   find_tmax [Notebook:frame .middle.n $item2]\n"
"   fit_init [Notebook:frame .middle.n $item3]\n"
"   caldb_init [Notebook:frame .middle.n $item5]\n"
"   #map_init [Notebook:frame .middle.n $item6]\n"
"   \n"
"   ############ Create Superlayer/Sector buttons ##########\n"
"   frame .middle.left\n"
"   set w .middle.left.secsup\n"
"   frame $w -borderwidth 3 -relief groove\n"
"   frame $w.sec -borderwidth 3 -relief groove\n"
"   frame $w.sup -borderwidth 3 -relief groove\n"
"   label $w.sec.lab -text \"Sector\"\n"
"   label $w.sup.lab -text \"Superlayer\"\n"
"   pack $w.sec.lab -side top\n"
"   pack $w.sup.lab -side top\n"
"   for {set i 6} {[expr $i>=0]} {incr i -1} {\n"
"      radiobutton $w.sec.sec$i -text Sec$i -value $i -variable sec -anchor w\n"
"      radiobutton $w.sup.sup$i -text SL$i -value $i -variable sup -anchor w\n"
"      pack $w.sec.sec$i -side bottom -fill x\n"
"      pack $w.sup.sup$i -side bottom -fill x\n"
"   }\n"
"   $w.sec.sec0 configure -text \"All\"\n"
"   $w.sup.sup0 configure -text \"All\" -state disabled\n"
"   pack $w.sup $w.sec -side left\n"
"   pack $w -side top -fill x \n"
"\n"
"   ######### Frame under sector superlayer buttons #########\n"
"   ######### (Possibly for future expansions)      #########\n"
"   frame .middle.left.bottom -borderwidth 3 -relief groove\n"
"   InitOptions .middle.left.bottom\n"
"   pack .middle.left.bottom -side top -fill both\n"
"   pack .middle.left -side left -fill both\n"
"\n"
"   ################ Pack #######################\n"
"   pack .middle -side top -fill both -expand 1\n"
"\n"
"}\n"
"\n"
"# This is an alternative to using a real thread to handle the plotting\n"
"proc PlotThread {} {\n"
"	global replot\n"
"\n"
"	if {[expr $replot!=0]} {PlotThreadTcl}\n"
"\n"
"	after 500 after idle PlotThread\n"
"}\n"
"\n"
"\n"
"\n"
"\n"
"# withdraw the main window until its contents are filled\n"
"wm withdraw .\n"
"\n"
"# If splash screen was shown, wait for it to go away so dc3 controls\n"
"# don't obscure it.\n"
"global splash_win\n"
"if {[string compare $splash_win \"0\"]} then {tkwait window $splash_win }\n"
"\n"
"# Fill the controls window\n"
"MainProc\n"
"\n"
"# Now map the main window\n"
"wm deiconify .\n"
"tkwait visibility .\n"
"wm title . \"DC Calibration check 3\"\n"
"wm resizable . 0 0\n"
"\n"
"\n"

;

